<div class="card card-custom gutter-b">
    <div class="card-header">
      <div class="modal-header">
        <div>
          <h3><b>Contact Us Details</b></h3>
        </div>
        <!-- <button
          type="button"
          class="btn btn-primary"
          aria-hidden="true"
          (click)="exportexcel()">
          export Excel
        </button> -->
      </div>
    </div>
    <div class="card-body" style="min-height: 200px">
      <div class="form-group row">
        <div class="col-lg-3">
          <label class="d-block mb-2"><b>Search</b></label>
          <div class="search-box">
            <input
            style="font-size: 14px"
            type="search"
            class="form-control"
            placeholder="Search "
            aria-describedby="search-addon"
            (search)="searchevent($event)"
            (keyup)="searchevent($event)"
            [(ngModel)]="requestBody.searchTerm"
          />
            <i class="ri-search-line search-icon"></i>
          </div>
        </div>
        
        <div class="col-lg-3">
          <label class="d-block mb-2"><b>From Date</b></label>
          <div class="input-group">
            <input
              [(ngModel)]="fromDate"
              [ngModelOptions]="{ standalone: true }"
              ngbDatepicker
              (ngModelChange)="Changeformdate()"
              
              class="form-control"
              placeholder="dd-MM-yyyy"
              #dto="ngbDatepicker"
            />
            <div class="input-group-append" (click)="dto.toggle()">
              <span class="input-group-text">
                <i class="mdi mdi-calendar"></i>
              </span>
            </div>
          </div>
        </div>
        <div class="col-lg-3">
          <label class="d-block mb-2"><b>To Date</b></label>
          <div class="input-group">
            <input
              [(ngModel)]="toDate"
              [ngModelOptions]="{ standalone: true }"
              (ngModelChange)="Changetodate()"
              ngbDatepicker
              class="form-control"
              placeholder="dd-MM-yyyy"
              #dto1="ngbDatepicker"
            />
            <div class="input-group-append" (click)="dto1.toggle()"  >
              <span class="input-group-text">
                <i class="mdi mdi-calendar"></i>
              </span>
            </div>
          </div>
        </div>
        <div class="col-lg-3 d-flex align-items-end">
          <button class="btn btn-primary btn-block" type="button" (click)="reset()">
            <span>Reset</span>
          </button>
        </div>
      </div>
   <hr>
      <div class="table-responsive angular-bootstrap-table" *ngIf="userList && userList.length > 0; else noResult">
        <table class="table table-head-custom text-left overflow-hidden">
          <thead>
            <th>Sr no</th>
            <th>User Name</th>
            <th>Email</th>
            <th>Date</th>

            <th>Phone Number</th>
            <th>Subject</th>
            <th style="word-wrap: break-word;" width="20%">Description </th>
            <!-- <th>Save Business</th> -->
            <!-- <th>Business Name</th> -->
            <!-- <th>Type </th> -->
            <!-- <th>Action</th> -->
          </thead>
          <tbody>
            <tr *ngFor="let item of userList | paginate: {id: 'dataPagination', itemsPerPage: itemsPerPage, currentPage: pageNo, totalItems: listLength}; let i = index">
              <td>{{ (pageNo - 1) * itemsPerPage + (i + 1) }}</td> <!-- Adjusted index for correct pagination -->
              <td>{{ item.name }}</td>
              <td>{{ item.email }}</td>
              <td>{{ item.createdDate }}</td>
              <td>{{ item.phone }}</td>
              
              <td>{{ item.subject }}</td>
              <td (click)="viewData(item)">{{ item.description }}</td> 
              <!-- <td>{{ item.businesses[0]?.businessName }}</td>  -->
            </tr>
          </tbody>
        </table>
      </div>
      <ng-template #noResult>
        <div class="text-center">
          <p>No result found</p>
        </div>
      </ng-template>
      <!-- end: Table -->
      <div class="card-footer">
        <div class="row">
            <div class="col-sm-4">
                <div class="d-flex justify-content-between align-items-center m-1">
                    <div class="d-flex align-items-center">
                        <label class="d-flex align-items-center">
                            <span style="margin-right: 6px">Show </span>
                            <select class="form-control mx-25" [(ngModel)]="itemsPerPage"
                                (change)="itemsPerPageChange($event)">
                                <option value="10">10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-sm-8 mt-1">
                <pagination-controls id="dataPagination" (pageChange)="pageNoChange($event);pageNo = $event">
                </pagination-controls>
            </div>
        </div>
    </div>
    </div>
  </div>
  